{"remainingRequest":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\src\\views\\ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\src\\views\\ChangePassword.vue","mtime":1616022990791},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3ZpdGFsaWkvY29kZS9zb2NpYWxfbmV0d29yay9ib29rbWFya3MvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYW5nZVBhc3N3b3JkJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgICdvbGRfcGFzc3dvcmQnOiAnJywKICAgICAgICAnbmV3X3Bhc3N3b3JkJzogJycKICAgICAgfSwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGFsZXJ0OiB0aGlzLiRzdG9yZS5zdGF0ZS5hbGVydE1lc3NhZ2UsCiAgICAgIHJ1bGVzOiBbZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgJ1JlcXVpcmVkLic7CiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdG9rZW4sIHJlcXVlc3RPcHRpb25zLCByZXNwb25zZSwgbG9nSW5CdG4sIHNpZ25VcCwgbG9nT3V0QnRuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7CiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICAgICAgICAgICAgLy8gY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgICAgICAgIC8vIGNyZWRlbnRpYWxzIDogJ2luY2x1ZGUnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJKV1QiICsgdG9rZW4KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoX3RoaXMudXNlcikKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jaGFuZ2UtcGFzc3dvcmQvJywgcmVxdWVzdE9wdGlvbnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5oZWFkZXJzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXM7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQudDAgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnRNZXNzYWdlID0gIllvdSBoYXZlIGNoYW5nZSB5b3VyIHBhc3N3b3JkIHN1Y2Nlc3NmdWxseSEiOwogICAgICAgICAgICAgICAgbG9nSW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9naW4nKSwgc2lnblVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpZ251cCcpLCBsb2dPdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICBsb2dJbkJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgc2lnblVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBsb2dPdXRCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0LnQxID09PSA0MDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMudXNlci5vbGRfcGFzc3dvcmQgPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXIubmV3X3Bhc3N3b3JkID0gJyc7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,wBAAA,EADA;AAEA,wBAAA;AAFA,OADA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YANA;AAOA,MAAA,KAAA,EAAA,CACA,UAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,WAAA;AAAA,OADA;AAPA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KADA,GACA,YAAA,CAAA,OAAA,CAAA,OAAA,CADA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,gBAAA,cAHA,GAGA;AACA,kBAAA,MAAA,EAAA,KADA;AAEA;AACA;AACA,kBAAA,OAAA,EAAA;AACA,oCAAA,kBADA;AAEA,qCAAA,QAAA;AAFA,mBAJA;AAQA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA;AARA,iBAHA;AAAA;AAAA,uBAcA,KAAA,CAAA,4CAAA,EAAA,cAAA,CAdA;;AAAA;AAcA,gBAAA,QAdA;AAeA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,OAAA;AAhBA;AAAA,uBAiBA,QAAA,CAAA,MAjBA;;AAAA;AAAA;;AAAA,sCAiBA,GAjBA;AAAA;AAAA;AAAA;;AAkBA,gBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,YAAA,GAAA,6CAAA;AACA,gBAAA,QAnBA,GAmBA,QAAA,CAAA,aAAA,CAAA,QAAA,CAnBA,EAoBA,MApBA,GAoBA,QAAA,CAAA,aAAA,CAAA,SAAA,CApBA,EAqBA,SArBA,GAqBA,QAAA,CAAA,aAAA,CAAA,SAAA,CArBA;AAsBA,gBAAA,QAAA,CAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,gBAAA,SAAA,CAAA,KAAA,CAAA,OAAA,GAAA,OAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;;AAzBA;AAAA;;AAAA;AAAA;AAAA,uBA0BA,QAAA,CAAA,MA1BA;;AAAA;AAAA;;AAAA,sCA0BA,GA1BA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBA2BA,QAAA,CAAA,IAAA,EA3BA;;AAAA;AA2BA,gBAAA,KAAA,CAAA,OA3BA;AA4BA,gBAAA,KAAA,CAAA,IAAA,CAAA,YAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,YAAA,GAAA,EAAA;;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AAhCA;AAfA,CAAA","sourcesContent":["<template>\n\t<div class=\"login\">\n\t    <h1>Change your password</h1>\n\t    <p>Using the following form:</p>\n\t    <v-alert v-if=\"message\" type=\"error\">\n\t      {{ message.detail }}\n\t    </v-alert>\n\t    <v-alert v-if=\"alert\" type=\"success\">\n        {{ alert }}\n\t    </v-alert>\n\t    <form @submit.prevent=\"changePassword\">\n\t        <v-text-field\n\t          type=\"password\"\n\t          label=\"Old password\"\n\t          :rules=\"rules\"\n\t          hide-details=\"auto\"\n\t          v-model=\"user.old_password\"\n\t          required\n\t        ></v-text-field>\n\t        <v-text-field\n\t          type=\"password\"\n\t          label=\"New password\"\n\t          :rules=\"rules\"\n\t          hide-details=\"auto\"\n\t          v-model=\"user.new_password\"\n\t          required\n\t        ></v-text-field>\n\t        <v-btn class=\"btn\" type=\"submit\" depressed color=\"primary\">Change password</v-btn>\n\t    </form>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'ChangePassword',\n\tdata(){\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\t'old_password': '',\n\t\t\t\t'new_password': '',\n\t\t\t},\n\t\t\tmessage: '',\n\t\t\talert: this.$store.state.alertMessage,\n\t\t\trules: [\n\t\t        value => !!value || 'Required.',\n\t\t    ]\n\t\t}\n\t},\n\tmethods: {\n\t\tasync changePassword(){\n      let token = localStorage.getItem('token');\n      console.log(token)\n\t\t\tlet requestOptions = {\n\t\t\t\tmethod: \"PUT\",\n        // credentials: 'same-origin',\n        // credentials : 'include',\n\t\t\t\theaders: {\n          'Content-Type': 'application/json',\n          \"Authorization\": \"JWT\" + token,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(this.user)\n\t\t\t}\n\n\t\t\tlet response = await fetch('http://127.0.0.1:8000/api/change-password/', requestOptions);\n\t\t\tconsole.log(response);\n      console.log(response.headers)\n      if (await response.status === 200) {\n        this.$store.state.alertMessage = \"You have change your password successfully!\";\n\t\t\t\tlet logInBtn \t\t= document.querySelector('#login'),\n\t\t\t\t\tsignUp   \t\t\t= document.querySelector('#signup'),\n\t\t\t\t\tlogOutBtn \t\t= document.querySelector('#logout');\n\t\t\t\tlogInBtn.style.display \t\t= 'none';\n\t\t\t\tsignUp.style.display \t\t  = 'none';\n\t\t\t\tlogOutBtn.style.display \t= 'block';\n\t\t\t\tthis.$router.push('/');\n\t\t\t} else if (await response.status === 400) {\n\t\t\t\tthis.message = await response.json();\n\t\t\t\tthis.user.old_password = '';\n\t\t\t\tthis.user.new_password = '';\n\t\t\t}\n\t\t}\n\t},\n}\n</script>\n\n<style>\n  .login{\n    width: 600px;\n    margin: 0 auto;\n    padding: 50px 0;\n  }\n\n  .btn{\n    margin: 10px 0;\n  }\n</style>"],"sourceRoot":"src/views"}]}