{"remainingRequest":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\src\\views\\Register.vue","mtime":1615911185013},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\vitalii\\code\\social_network\\bookmarks\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3ZpdGFsaWkvY29kZS9zb2NpYWxfbmV0d29yay9ib29rbWFya3MvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ2lzdGVyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgICd1c2VybmFtZSc6ICcnLAogICAgICAgICdmaXJzdF9uYW1lJzogJycsCiAgICAgICAgJ2VtYWlsJzogJycsCiAgICAgICAgJ3Bhc3N3b3JkJzogJycsCiAgICAgICAgJ3Bhc3N3b3JkMic6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiBbZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgJ1JlcXVpcmVkLic7CiAgICAgIH0sIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPj0gMyB8fCAnTWluIDMgY2hhcmFjdGVycyc7CiAgICAgIH1dLAogICAgICBtZXNzYWdlOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZVVzZXI6IGZ1bmN0aW9uIGNyZWF0ZVVzZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucywgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShfdGhpcy51c2VyKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3JlZ2lzdGVyLycsIHJlcXVlc3RPcHRpb25zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQudDAgPT09IDIwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnRNZXNzYWdlID0gIllvdSBoYXZlIHNpZ25lZCB1cCBzdWNjZXNzZnVsbHkhIFBsZWFzZSwgbG9nIGluISI7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXM7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQudDEgPT09IDQwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLm1lc3NhZ2UudXNlcm5hbWUgJiYgX3RoaXMubWVzc2FnZS5lbWFpbCkgewogICAgICAgICAgICAgICAgICBfdGhpcy51c2VyLnVzZXJuYW1lID0gJyc7CiAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXIuZW1haWwgPSAnJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMubWVzc2FnZS5lbWFpbCkgewogICAgICAgICAgICAgICAgICBfdGhpcy51c2VyLmVtYWlsID0gJyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLm1lc3NhZ2UudXNlcm5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMudXNlci51c2VybmFtZSA9ICcnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMudXNlci5wYXNzd29yZCA9ICcnOwogICAgICAgICAgICAgICAgICBfdGhpcy51c2VyLnBhc3N3b3JkMiA9ICcnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,oBAAA,EADA;AAEA,sBAAA,EAFA;AAGA,iBAAA,EAHA;AAIA,oBAAA,EAJA;AAKA,qBAAA;AALA,OADA;AAQA,MAAA,KAAA,EAAA,CACA,UAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,WAAA;AAAA,OADA,EAEA,UAAA,KAAA;AAAA,eAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,CAAA,IAAA,kBAAA;AAAA,OAFA,CARA;AAYA,MAAA,OAAA,EAAA;AAZA,KAAA;AAcA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,cADA,GACA;AACA,kBAAA,MAAA,EAAA,MADA;AAEA,kBAAA,OAAA,EAAA;AACA,oCAAA;AADA,mBAFA;AAKA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA;AALA,iBADA;AAAA;AAAA,uBAQA,KAAA,CAAA,qCAAA,EAAA,cAAA,CARA;;AAAA;AAQA,gBAAA,QARA;AAAA;AAAA,uBASA,QAAA,CAAA,MATA;;AAAA;AAAA;;AAAA,sCASA,GATA;AAAA;AAAA;AAAA;;AAUA,gBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,YAAA,GAAA,kDAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;;AAXA;AAAA;;AAAA;AAAA;AAAA,uBAYA,QAAA,CAAA,MAZA;;AAAA;AAAA;;AAAA,sCAYA,GAZA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAaA,QAAA,CAAA,IAAA,EAbA;;AAAA;AAaA,gBAAA,KAAA,CAAA,OAbA;;AAcA,oBAAA,KAAA,CAAA,OAAA,CAAA,QAAA,IAAA,KAAA,CAAA,OAAA,CAAA,KAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,iBAHA,MAGA,IAAA,KAAA,CAAA,OAAA,CAAA,KAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,iBAFA,MAEA,IAAA,KAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,iBAFA,MAEA;AACA,kBAAA,KAAA,CAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA,CAAA,SAAA,GAAA,EAAA;AACA;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BA;AA3BA;AAlBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"register\">\r\n    <h1>Create an account</h1>\r\n    <p>Please, sign up using the following form:</p>\r\n    <v-alert v-for=\"[msg], i in message\" type=\"error\" :key=\"i\">\r\n      {{ msg }}\r\n    </v-alert>\r\n    <form @submit.prevent=\"createUser\">\r\n        <v-text-field\r\n          label=\"Username\"\r\n          :rules=\"rules\"\r\n          hide-details=\"auto\"\r\n          required\r\n          v-model=\"user.username\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          label=\"First name\"\r\n          :rules=\"rules\"\r\n          hide-details=\"auto\"\r\n          required\r\n          v-model=\"user.first_name\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          type=\"email\"\r\n          label=\"Email\"\r\n          :rules=\"rules\"\r\n          hide-details=\"auto\"\r\n          required\r\n          v-model=\"user.email\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          :rules=\"rules\"\r\n          hide-details=\"auto\"\r\n          required\r\n          v-model=\"user.password\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          type=\"password\"\r\n          label=\"Repeat password\"\r\n          :rules=\"rules\"\r\n          hide-details=\"auto\"\r\n          required\r\n          v-model=\"user.password2\"\r\n        ></v-text-field>\r\n        <v-btn class=\"btn\" type=\"submit\" depressed color=\"primary\">Sign up</v-btn>\r\n    </form>\r\n    <p>Already a member? <router-link to=\"login\">Log in</router-link></p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Register',\r\n  data(){\r\n    return {\r\n      user: {\r\n        'username': '',\r\n        'first_name': '',\r\n        'email': '',\r\n        'password': '',\r\n        'password2': ''\r\n      },\r\n      rules: [\r\n        value => !!value || 'Required.',\r\n        value => (value && value.length >= 3) || 'Min 3 characters',\r\n      ],\r\n      message: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async createUser(){\r\n      let requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(this.user)\r\n      }\r\n      let response = await fetch('http://localhost:8000/api/register/', requestOptions);\r\n      if(await response.status === 201){\r\n        this.$store.state.alertMessage = \"You have signed up successfully! Please, log in!\";\r\n        this.$router.push('/login');\r\n      }else if(await response.status === 400){\r\n        this.message = await response.json();\r\n        if(this.message.username && this.message.email){\r\n          this.user.username = '';\r\n          this.user.email = '';\r\n        }else if(this.message.email){\r\n          this.user.email = '';\r\n        }else if(this.message.username){\r\n          this.user.username = '';\r\n        }else{\r\n          this.user.password = '';\r\n          this.user.password2 = '';\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .register{\r\n    width: 600px;\r\n    margin: 0 auto;\r\n    padding: 50px 0;\r\n  }\r\n\r\n  .btn{\r\n    margin: 10px 0;\r\n  }\r\n\r\n  #logout{\r\n    display: none;\r\n  }\r\n</style>"],"sourceRoot":"src/views"}]}